
<div *ngIf="website && owner && positiveRatings" class="full-width mt5px">


  <mat-accordion>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{website!.url}}
        </mat-panel-title>
        <mat-panel-description>
          {{code!.code_value}}
        </mat-panel-description>
      </mat-expansion-panel-header>

      <p>Description : {{code!.description}} </p>
      <p>Validity : {{code!.creation_date | date}} to {{code!.expiration_date | date}}</p>
      <p>Owner : {{owner!.mail}}</p>
      <p>Number of uses : {{code!.number_of_uses}}</p>
      <p>Positive ratings : {{positiveRatings!.length}}</p>
      <p>Negatives ratings : {{negativeRatings!.length}}</p>

      <a>Click to see : {{code!.redirect_url}}</a>

      <div style="margin-top: 30px;" *ngIf="isAtCurrentUser()">
        <button mat-raised-button color="primary" style="margin-right:20px">Sponsor this code</button>
        <button mat-stroked-button color="primary" style="margin-right:20px">Update this code</button>
        <button mat-flat-button color="warn" style="margin-right:20px">Delete this code</button>
      </div>



    </mat-expansion-panel>
  </mat-accordion>



</div>



<mat-spinner *ngIf="website === undefined || owner === undefined || positiveRatings === undefined" [diameter]="20"></mat-spinner>
